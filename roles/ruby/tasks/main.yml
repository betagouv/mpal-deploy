---

- name: Check if ruby is already installed
  become: true
  command: ruby -v
  register: ruby_version
  changed_when: false
  failed_when: false

- name: Copy Ruby 2.3.1 debian package
  become: true
  copy:
    src: ruby_2.3.1-1_amd64.deb
    dest: /tmp
  when: ruby_version.rc != 0

- name: Install the package
  become: true
  command: dpkg -i /tmp/ruby_2.3.1-1_amd64.deb
  when: ruby_version.rc != 0
